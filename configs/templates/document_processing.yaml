# Document Processing Template Configuration
# Use cases: Document classification, OCR preprocessing, Form recognition
_base_: ../base.yaml

name: document_processing_pipeline
description: "Document classification and processing for enterprise workflows"

data:
  dataset_name: rvl_cdip  # Options: rvl_cdip, tobacco800, custom
  data_root: ./data/documents
  image_size: [224, 224]
  augmentation_level: light  # Documents need less aggressive augmentation
  # Document images often grayscale, but we use 3-channel
  normalization_mean: [0.485, 0.456, 0.406]
  normalization_std: [0.229, 0.224, 0.225]

model:
  task_type: classification
  architecture: vit_base  # Vision Transformer for document understanding
  num_classes: 16  # Document types: invoice, contract, form, letter, etc.
  pretrained: true
  freeze_backbone: false
  dropout: 0.1

training:
  batch_size: 16  # ViT requires more memory
  num_epochs: 20
  learning_rate: 0.00003  # Lower LR for ViT
  weight_decay: 0.01
  optimizer: adamw
  scheduler: cosine
  early_stopping_patience: 5
  mixed_precision: true

infra:
  mlflow_experiment_name: document_processing_experiments
  minio_bucket: document-models
